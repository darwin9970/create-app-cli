# æ•°æ®ä¸­å¿ƒç®¡ç†å¹³å° - æ¶æ„è®¾è®¡æ–‡æ¡£

> ğŸ“… æ›´æ–°æ—¶é—´ï¼š2024-12-11  
> ğŸ‘¤ ä½œè€…ï¼šå‘ä¹ æ–‡  
> ğŸ“Œ ç‰ˆæœ¬ï¼šv1.0.0

---

## ğŸ“‹ ç›®å½•

- [1. é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
- [2. æŠ€æœ¯é€‰å‹](#2-æŠ€æœ¯é€‰å‹)
- [3. æ•´ä½“æ¶æ„](#3-æ•´ä½“æ¶æ„)
- [4. ç›®å½•ç»“æ„](#4-ç›®å½•ç»“æ„)
- [5. æ ¸å¿ƒæ¨¡å—è®¾è®¡](#5-æ ¸å¿ƒæ¨¡å—è®¾è®¡)
- [6. æ•°æ®æµæ¶æ„](#6-æ•°æ®æµæ¶æ„)
- [7. è·¯ç”±ä¸æƒé™](#7-è·¯ç”±ä¸æƒé™)
- [8. ç»„ä»¶æ¶æ„](#8-ç»„ä»¶æ¶æ„)
- [9. çŠ¶æ€ç®¡ç†](#9-çŠ¶æ€ç®¡ç†)
- [10. å·¥ç¨‹åŒ–é…ç½®](#10-å·¥ç¨‹åŒ–é…ç½®)

---

## 1. é¡¹ç›®æ¦‚è¿°

**æ•°æ®ä¸­å¿ƒç®¡ç†å¹³å°**æ˜¯ä¸€ä¸ªåŸºäº React çš„ä¼ä¸šçº§ä¸­åå°ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„å‰ç«¯æŠ€æœ¯æ ˆï¼Œæä¾›é«˜æ•ˆã€å¯æ‰©å±•çš„å¼€å‘ä½“éªŒã€‚

### 1.1 æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§              | è¯´æ˜                           |
| ----------------- | ------------------------------ |
| ğŸš€ **å¼€ç®±å³ç”¨**   | åŸºäº UmiJS Maxï¼Œå†…ç½®æœ€ä½³å®è·µ   |
| ğŸ“¦ **ç»„ä»¶å¤ç”¨**   | å°è£…é€šç”¨ä¸šåŠ¡ç»„ä»¶ï¼Œæå‡å¼€å‘æ•ˆç‡ |
| ğŸ” **æƒé™æ§åˆ¶**   | å®Œå–„çš„è·¯ç”±çº§åˆ«æƒé™ç®¡ç†         |
| ğŸ¨ **UI è§„èŒƒ**    | åŸºäº Ant Design 5.x è®¾è®¡ä½“ç³»   |
| ğŸ“Š **æ•°æ®å¯è§†åŒ–** | é›†æˆ ECharts å›¾è¡¨èƒ½åŠ›          |
| ğŸ”„ **çŠ¶æ€ç®¡ç†**   | Zustand è½»é‡çº§çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ     |
| ğŸ”€ **æµç¨‹ç¼–æ’**   | React Flow å¯è§†åŒ–æµç¨‹ç¼–è¾‘å™¨    |
| âœï¸ **ä»£ç ç¼–è¾‘**   | Monaco Editor ä¸“ä¸šä»£ç ç¼–è¾‘å™¨   |

---

## 2. æŠ€æœ¯é€‰å‹

### 2.1 æŠ€æœ¯æ ˆå…¨æ™¯å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®ä¸­å¿ƒç®¡ç†å¹³å°                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è§†å›¾å±‚        â”‚  React 18 + TypeScript                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI æ¡†æ¶       â”‚  Ant Design 5.x + Ant Design Pro Components    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ ·å¼æ–¹æ¡ˆ      â”‚  TailwindCSS + Less Modules                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  çŠ¶æ€ç®¡ç†      â”‚  Zustand (persist middleware)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¯·æ±‚å±‚        â”‚  @umijs/max request + ahooks useRequest        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è·¯ç”±ç®¡ç†      â”‚  UmiJS çº¦å®šå¼/é…ç½®å¼è·¯ç”±                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å›¾è¡¨å¯è§†åŒ–    â”‚  ECharts 6.x                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·¥ç¨‹åŒ–        â”‚  UmiJS Max + ESLint + Prettier + Husky         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒä¾èµ–

```json
{
  "dependencies": {
    "@umijs/max": "^4.6.4", // ä¼ä¸šçº§æ¡†æ¶
    "antd": "^5.4.0", // UI ç»„ä»¶åº“
    "zustand": "^5.0.9", // çŠ¶æ€ç®¡ç†
    "ahooks": "^3.9.6", // React Hooks åº“
    "echarts": "^6.0.0", // å›¾è¡¨åº“
    "@xyflow/react": "^12.9.3", // æµç¨‹å›¾
    "@monaco-editor/react": "^4.7.0" // ä»£ç ç¼–è¾‘å™¨
  }
}
```

### 2.3 æŠ€æœ¯é€‰å‹ç†ç”±

```mermaid
graph TB
    A((æŠ€æœ¯é€‰å‹)) --> B[æ¡†æ¶å±‚]
    A --> C[UI å±‚]
    A --> D[çŠ¶æ€å±‚]
    A --> E[è¯·æ±‚å±‚]

    B --> B1[UmiJS Max]
    B1 --> B1a[ä¼ä¸šçº§æœ€ä½³å®è·µ]
    B1 --> B1b[æ’ä»¶åŒ–æ¶æ„]
    B1 --> B1c[MFSU åŠ é€Ÿæ„å»º]

    C --> C1[Ant Design 5.x]
    C1 --> C1a[è®¾è®¡è¯­è¨€ç»Ÿä¸€]
    C1 --> C1b[ç»„ä»¶ä¸°å¯Œ]
    C1 --> C1c[ä¸»é¢˜å®šåˆ¶]

    D --> D1[Zustand]
    D1 --> D1a[è½»é‡çº§ 2KB]
    D1 --> D1b[æ—  Provider]
    D1 --> D1c[TypeScript å‹å¥½]

    E --> E1[ahooks useRequest]
    E1 --> E1a[è‡ªåŠ¨è¯·æ±‚ç®¡ç†]
    E1 --> E1b[é˜²æŠ–/èŠ‚æµ]
    E1 --> E1c[è½®è¯¢/SWR]
```

---

## 3. æ•´ä½“æ¶æ„

### 3.1 åˆ†å±‚æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç”¨æˆ·ç•Œé¢å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Pages    â”‚  â”‚   Layouts   â”‚  â”‚ Components  â”‚  â”‚    Hooks    â”‚  â”‚
â”‚  â”‚   (é¡µé¢)    â”‚  â”‚   (å¸ƒå±€)    â”‚  â”‚   (ç»„ä»¶)    â”‚  â”‚  (è‡ªå®šä¹‰)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚                â”‚
          â–¼                â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ä¸šåŠ¡é€»è¾‘å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        Stores           â”‚    â”‚           Services              â”‚  â”‚
â”‚  â”‚   (Zustand çŠ¶æ€ç®¡ç†)    â”‚    â”‚      (API è¯·æ±‚æœåŠ¡)             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚ user  â”‚ â”‚  app  â”‚   â”‚    â”‚  â”‚  user   â”‚  â”‚analysis â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                    â”‚
          â–¼                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              åŸºç¡€è®¾æ–½å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Utils    â”‚  â”‚ Constants  â”‚  â”‚   Types    â”‚  â”‚    Request     â”‚  â”‚
â”‚  â”‚  (å·¥å…·)    â”‚  â”‚   (å¸¸é‡)   â”‚  â”‚   (ç±»å‹)   â”‚  â”‚   (è¯·æ±‚å°è£…)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              é…ç½®å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ config.ts  â”‚  â”‚ routes.ts  â”‚  â”‚ config.dev â”‚  â”‚  config.prod   â”‚  â”‚
â”‚  â”‚  (ä¸»é…ç½®)  â”‚  â”‚  (è·¯ç”±)    â”‚  â”‚  (å¼€å‘)    â”‚  â”‚    (ç”Ÿäº§)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ¨¡å—äº¤äº’å›¾

```mermaid
graph TB
    subgraph "ç”¨æˆ·äº¤äº’"
        A[ç”¨æˆ·æ“ä½œ] --> B[Pages/Components]
    end

    subgraph "çŠ¶æ€ç®¡ç†"
        B --> C{éœ€è¦çŠ¶æ€?}
        C -->|æ˜¯| D[Zustand Store]
        C -->|å¦| E[Local State]
        D --> F[useUserStore]
        D --> G[useAppStore]
    end

    subgraph "æ•°æ®è¯·æ±‚"
        B --> H{éœ€è¦æ•°æ®?}
        H -->|æ˜¯| I[useRequest]
        I --> J[Services]
        J --> K[Request Utils]
        K --> L[Backend API]
    end

    subgraph "å“åº”å¤„ç†"
        L --> M[Response]
        M --> N{æˆåŠŸ?}
        N -->|æ˜¯| O[æ›´æ–°è§†å›¾]
        N -->|å¦| P[é”™è¯¯å¤„ç†]
    end
```

---

## 4. ç›®å½•ç»“æ„

### 4.1 é¡¹ç›®ç»“æ„æ€»è§ˆ

```
data-center-manager/
â”œâ”€â”€ ğŸ“ config/                    # ğŸ”§ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.ts                 #    ä¸»é…ç½®ï¼ˆæ‰€æœ‰ç¯å¢ƒå…±äº«ï¼‰
â”‚   â”œâ”€â”€ config.dev.ts             #    å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ config.test.ts            #    æµ‹è¯•ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ config.prod.ts            #    ç”Ÿäº§ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ routes.ts                 #    è·¯ç”±é…ç½®
â”‚
â”œâ”€â”€ ğŸ“ mock/                      # ğŸ­ Mock æ•°æ®
â”‚   â”œâ”€â”€ user.ts                   #    ç”¨æˆ·ç›¸å…³ Mock
â”‚   â””â”€â”€ analysis.ts               #    åˆ†æç›¸å…³ Mock
â”‚
â”œâ”€â”€ ğŸ“ src/                       # ğŸ“¦ æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ components/            #    ğŸ§© å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ CodeEditor/           #       ä»£ç ç¼–è¾‘å™¨ (Monaco)
â”‚   â”‚   â”œâ”€â”€ ErrorBoundary/        #       é”™è¯¯è¾¹ç•Œ
â”‚   â”‚   â”œâ”€â”€ PageContainer/        #       é¡µé¢å®¹å™¨
â”‚   â”‚   â”œâ”€â”€ SearchForm/           #       æŸ¥è¯¢è¡¨å•
â”‚   â”‚   â””â”€â”€ index.ts              #       ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ constants/             #    ğŸ“Œ å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts              #       å…¨å±€å¸¸é‡
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                 #    ğŸª è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useAppMessage.ts      #       æ¶ˆæ¯æç¤º Hook
â”‚   â”‚   â”œâ”€â”€ useChart.ts           #       ECharts Hook
â”‚   â”‚   â”œâ”€â”€ useDownload.ts        #       æ–‡ä»¶ä¸‹è½½ Hook
â”‚   â”‚   â””â”€â”€ index.ts              #       ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ layouts/               #    ğŸ“ å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ BasicLayout.tsx       #       åŸºç¡€å¸ƒå±€
â”‚   â”‚   â””â”€â”€ BasicLayout.less      #       å¸ƒå±€æ ·å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ pages/                 #    ğŸ“„ é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Auth/                 #       è®¤è¯æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ Login/            #          ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Dashboard/            #       å·¥ä½œå°æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ Analysis/         #          æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â””â”€â”€ Workplace/        #          æµç¨‹ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ System/               #       ç³»ç»Ÿç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ Settings/         #          ç³»ç»Ÿè®¾ç½®
â”‚   â”‚   â””â”€â”€ Exception/            #       å¼‚å¸¸é¡µé¢
â”‚   â”‚       â””â”€â”€ 404/              #          404 é¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/              #    ğŸ”Œ API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ user.ts               #       ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ analysis.ts           #       åˆ†ææœåŠ¡
â”‚   â”‚   â””â”€â”€ index.ts              #       ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ stores/                #    ğŸ—ƒï¸ çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ user.ts               #       ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ app.ts                #       åº”ç”¨çŠ¶æ€
â”‚   â”‚   â””â”€â”€ index.ts              #       ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ types/                 #    ğŸ“ ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts              #       é€šç”¨ç±»å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ utils/                 #    ğŸ› ï¸ å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts            #       è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ storage.ts            #       å­˜å‚¨å°è£…
â”‚   â”‚   â”œâ”€â”€ format.ts             #       æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â””â”€â”€ index.ts              #       ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ wrappers/              #    ğŸ”’ è·¯ç”±åŒ…è£…å™¨
â”‚   â”‚   â””â”€â”€ auth.tsx              #       é‰´æƒåŒ…è£…å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ access.ts                 #    ğŸ”‘ æƒé™é…ç½®
â”‚   â”œâ”€â”€ app.tsx                   #    ğŸš€ è¿è¡Œæ—¶é…ç½®
â”‚   â”œâ”€â”€ global.less               #    ğŸ¨ å…¨å±€æ ·å¼
â”‚   â””â”€â”€ loading.tsx               #    â³ åŠ è½½ç»„ä»¶
â”‚
â”œâ”€â”€ ğŸ“„ package.json               # ğŸ“‹ é¡¹ç›®é…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.json              # âš™ï¸ TypeScript é…ç½®
â”œâ”€â”€ ğŸ“„ tailwind.config.js         # ğŸ¨ Tailwind é…ç½®
â””â”€â”€ ğŸ“„ README.md                  # ğŸ“– é¡¹ç›®æ–‡æ¡£
```

### 4.2 æ¨¡å—èŒè´£

```mermaid
pie title æ¨¡å—èŒè´£åˆ†å¸ƒ
    "Pages é¡µé¢" : 30
    "Components ç»„ä»¶" : 20
    "Services API" : 15
    "Stores çŠ¶æ€" : 10
    "Hooks é’©å­" : 10
    "Utils å·¥å…·" : 10
    "Config é…ç½®" : 5
```

---

## 5. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 5.1 è¯·æ±‚æ¨¡å— (Request)

```mermaid
sequenceDiagram
    participant C as Component
    participant H as useRequest
    participant S as Service
    participant R as Request Utils
    participant B as Backend

    C->>H: è°ƒç”¨ useRequest
    H->>S: æ‰§è¡Œ service å‡½æ•°
    S->>R: è°ƒç”¨å°è£…çš„è¯·æ±‚æ–¹æ³•
    R->>R: è¯·æ±‚æ‹¦æˆªå™¨ (æ·»åŠ  Token)
    R->>B: å‘é€ HTTP è¯·æ±‚
    B-->>R: è¿”å›å“åº”
    R->>R: å“åº”æ‹¦æˆªå™¨ (é”™è¯¯å¤„ç†)
    R-->>S: è¿”å›æ•°æ®
    S-->>H: Promise resolve
    H-->>C: æ›´æ–° data/loading/error
```

**è¯·æ±‚å°è£…æ ¸å¿ƒä»£ç ï¼š**

```typescript
// src/utils/request.ts
const requestInterceptors = [
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  }
];

export const requestConfig = {
  timeout: 3000,
  requestInterceptors,
  responseInterceptors,
  errorConfig
};
```

### 5.2 çŠ¶æ€ç®¡ç†æ¨¡å— (Stores)

```mermaid
graph LR
    subgraph "Zustand Stores"
        A[useUserStore] --> A1[userInfo]
        A --> A2[setUserInfo]
        A --> A3[clearUser]

        B[useAppStore] --> B1[collapsed]
        B --> B2[setCollapsed]
        B --> B3[toggleCollapsed]
    end

    subgraph "æŒä¹…åŒ–"
        A1 -.->|persist| C[(localStorage)]
    end

    subgraph "ä½¿ç”¨æ–¹å¼"
        D[Component] -->|selector| A1
        D -->|getState| A
    end
```

**çŠ¶æ€ç®¡ç†æ ¸å¿ƒè®¾è®¡ï¼š**

```typescript
// ç±»å‹åˆ†ç¦»è®¾è®¡
interface UserState {
  userInfo: UserInfo | null;
}

interface UserActions {
  setUserInfo: (userInfo: UserInfo | null) => void;
  clearUser: () => void;
}

type UserStore = UserState & UserActions;

// æŒä¹…åŒ– + Selector æ¨¡å¼
export const useUserStore = create<UserStore>()(
  persist(
    (set) => ({
      userInfo: null,
      setUserInfo: (userInfo) => set({ userInfo }),
      clearUser: () => set({ userInfo: null })
    }),
    { name: 'userInfo' }
  )
);
```

### 5.3 ç»„ä»¶æ¨¡å— (Components)

```mermaid
graph TB
    subgraph "å…¬å…±ç»„ä»¶åº“"
        A[PageContainer] --> A1[æ ‡é¢˜æ ]
        A --> A2[é¢åŒ…å±‘]
        A --> A3[æ“ä½œåŒº]
        A --> A4[å†…å®¹åŒº]

        B[SearchForm] --> B1[è¡¨å•é¡¹]
        B --> B2[å±•å¼€/æ”¶èµ·]
        B --> B3[æŸ¥è¯¢/é‡ç½®]

        C[ErrorBoundary] --> C1[é”™è¯¯æ•è·]
        C --> C2[é™çº§ UI]
        C --> C3[é”™è¯¯ä¸ŠæŠ¥]
    end
```

**ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹ï¼š**

```tsx
<PageContainer
  title="æ•°æ®åˆ†æ"
  subTitle="å®æ—¶æ•°æ®ç›‘æ§"
  breadcrumb={[{ title: 'é¦–é¡µ', path: '/' }, { title: 'æ•°æ®åˆ†æ' }]}
  extra={<Button type="primary">æ“ä½œ</Button>}
  onRefresh={refresh}
>
  <SearchForm onSearch={handleSearch} columns={4}>
    <Form.Item name="name" label="å§“å">
      <Input />
    </Form.Item>
  </SearchForm>
</PageContainer>
```

### 5.4 Hooks æ¨¡å—

| Hook            | ç”¨é€”     | æ ¸å¿ƒèƒ½åŠ›                     |
| --------------- | -------- | ---------------------------- |
| `useAppMessage` | å…¨å±€æ¶ˆæ¯ | åœ¨ä»»ä½•ä½ç½®è°ƒç”¨ message/modal |
| `useChart`      | å›¾è¡¨ç®¡ç† | ECharts åˆå§‹åŒ–ã€resizeã€é”€æ¯ |
| `useDownload`   | æ–‡ä»¶ä¸‹è½½ | ä¸‹è½½çŠ¶æ€ç®¡ç†ã€é”™è¯¯å¤„ç†       |

### 5.5 æµç¨‹ç¼–è¾‘å™¨æ¨¡å— (Workplace)

åŸºäº React Flow æ„å»ºçš„å¯è§†åŒ– ETL æµç¨‹ç¼–æ’å·¥å…·ã€‚

```mermaid
graph LR
    subgraph "æµç¨‹ç¼–è¾‘å™¨åŠŸèƒ½"
        A[æ‹–æ‹½æ·»åŠ èŠ‚ç‚¹] --> B[è¿æ¥èŠ‚ç‚¹]
        B --> C[é…ç½®èŠ‚ç‚¹]
        C --> D[æ‰§è¡Œæµç¨‹]
    end

    subgraph "èŠ‚ç‚¹ç±»å‹"
        E[æ•°æ®æº start]
        F[å¤„ç†èŠ‚ç‚¹ process]
        G[æ¡ä»¶èŠ‚ç‚¹ condition]
        H[é€šçŸ¥èŠ‚ç‚¹ end]
    end
```

**æ ¸å¿ƒç‰¹æ€§ï¼š**

| ç‰¹æ€§            | è¯´æ˜                        |
| --------------- | --------------------------- |
| ğŸ¯ **æ‹–æ‹½ç¼–æ’** | ä»å·¥å…·æ æ‹–æ‹½èŠ‚ç‚¹åˆ°ç”»å¸ƒ      |
| ğŸ”— **è¿çº¿é…ç½®** | å¯è§†åŒ–è¿æ¥èŠ‚ç‚¹æ„å»ºæ•°æ®æµ    |
| âš™ï¸ **èŠ‚ç‚¹é…ç½®** | ç‚¹å‡»èŠ‚ç‚¹æ‰“å¼€é…ç½®æŠ½å±‰        |
| ğŸ“ **ä»£ç ç¼–è¾‘** | Monaco Editor ç¼–è¾‘ SQL/è„šæœ¬ |
| ğŸ”€ **æ¡ä»¶åˆ†æ”¯** | æ”¯æŒæ¡ä»¶åˆ¤æ–­å’Œåˆ†æ”¯æ‰§è¡Œ      |
| â–¶ï¸ **æµç¨‹æ‰§è¡Œ** | å¯è§†åŒ–å±•ç¤ºæ‰§è¡ŒçŠ¶æ€          |

**èŠ‚ç‚¹é…ç½®ç¤ºä¾‹ï¼š**

```typescript
// å¤„ç†èŠ‚ç‚¹é…ç½®
{
  label: 'æ•°æ®æŠ½å–',
  nodeType: 'process',
  timeout: 300,
  retryCount: 3,
  script: 'SELECT * FROM orders WHERE ...'
}

// æ¡ä»¶èŠ‚ç‚¹é…ç½®
{
  label: 'è´¨é‡æ£€æŸ¥',
  nodeType: 'condition',
  expression: 'data.errorRate < 0.05',
  trueBranch: 'dedup',    // é€šè¿‡æ—¶æ‰§è¡Œ
  falseBranch: 'alert'    // å¼‚å¸¸æ—¶æ‰§è¡Œ
}
```

**æ‰§è¡Œæµç¨‹ï¼ˆæ”¯æŒæ¡ä»¶åˆ†æ”¯ï¼‰ï¼š**

```mermaid
flowchart LR
    A[æ•°æ®æºè¿æ¥] --> B[æ•°æ®æŠ½å–]
    B --> C{è´¨é‡æ£€æŸ¥}
    C -->|é€šè¿‡| D[å»é‡å¤„ç†]
    C -->|å¼‚å¸¸| E[å¼‚å¸¸å‘Šè­¦]
    D --> F[ç©ºå€¼å¤„ç†]
    F --> G[æ ¼å¼è½¬æ¢]
    G --> H[æ•°æ®åŠ è½½]
    H --> I[å®Œæˆé€šçŸ¥]
```

### 5.6 ä»£ç ç¼–è¾‘å™¨ç»„ä»¶ (CodeEditor)

åŸºäº Monaco Editor å°è£…çš„ä»£ç ç¼–è¾‘å™¨ç»„ä»¶ã€‚

**æ”¯æŒç‰¹æ€§ï¼š**

- âœ… å¤šè¯­è¨€è¯­æ³•é«˜äº®ï¼ˆSQLã€JavaScriptã€JSONã€Pythonã€Shellï¼‰
- âœ… æ·±è‰²ä¸»é¢˜
- âœ… è¡Œå·æ˜¾ç¤ºã€ä»£ç æŠ˜å 
- âœ… å…¨å±ç¼–è¾‘å¼¹çª—
- âœ… è‡ªåŠ¨å¸ƒå±€é€‚é…

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```tsx
import { CodeEditor } from '@/components';

<CodeEditor
  language="sql"
  height={180}
  value={script}
  onChange={setScript}
  title="ç¼–è¾‘æ‰§è¡Œè„šæœ¬"
/>;
```

```mermaid
graph LR
    A[useChart] --> B[åˆå§‹åŒ– ECharts]
    A --> C[ç›‘å¬ options å˜åŒ–]
    A --> D[çª—å£ resize é€‚é…]
    A --> E[ç»„ä»¶å¸è½½é”€æ¯]
```

---

## 6. æ•°æ®æµæ¶æ„

### 6.1 å•å‘æ•°æ®æµ

```mermaid
graph LR
    A[User Action] --> B[Dispatch]
    B --> C[Store Update]
    C --> D[Re-render]
    D --> E[New View]
    E --> A
```

### 6.2 å®Œæ•´æ•°æ®æµç¤ºä¾‹

```mermaid
sequenceDiagram
    participant U as User
    participant V as View
    participant S as Store
    participant A as API
    participant B as Backend

    U->>V: ç‚¹å‡»ç™»å½•
    V->>A: login(username, password)
    A->>B: POST /api/login
    B-->>A: { token, userInfo }
    A-->>V: è¿”å›ç»“æœ
    V->>S: setUserInfo(userInfo)
    S->>S: æ›´æ–°çŠ¶æ€ + æŒä¹…åŒ–
    S-->>V: è§¦å‘é‡æ¸²æŸ“
    V->>V: è·³è½¬åˆ°é¦–é¡µ
```

---

## 7. è·¯ç”±ä¸æƒé™

### 7.1 åŠ¨æ€è·¯ç”±æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨**åç«¯è¿”å›è·¯ç”±ï¼Œå‰ç«¯åŠ¨æ€æ¸²æŸ“**çš„æ–¹æ¡ˆã€‚

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant L as ç™»å½•é¡µ
    participant A as app.tsx
    participant API as åç«¯ API
    participant R as è·¯ç”±ç³»ç»Ÿ

    U->>L: ç™»å½•
    L->>API: POST /api/login
    API-->>L: è¿”å› token + userInfo
    L->>L: å­˜å‚¨ token
    L->>L: window.location.href åˆ·æ–°

    Note over A: render() æ‰§è¡Œ
    A->>API: GET /api/menu/list
    API-->>A: è¿”å›èœå•æ•°æ®
    A->>A: menuToRoutes() è½¬æ¢
    A->>R: patchClientRoutes() æ³¨å…¥
    R-->>U: æ¸²æŸ“é¡µé¢
```

### 7.2 æ ¸å¿ƒå®ç°

**1. åŸºç¡€è·¯ç”±é…ç½®ï¼ˆconfig/routes.tsï¼‰**

```typescript
export default [
  {
    path: '/',
    component: '@/layouts/BasicLayout',
    routes: [
      {
        path: '/',
        wrappers: ['@/wrappers/auth'],
        routes: [
          // åŠ¨æ€è·¯ç”±ä¼šæ³¨å…¥åˆ°è¿™é‡Œ
        ]
      },
      { path: '*', component: './Exception/404' }
    ]
  },
  { path: '/login', component: './Auth/Login' }
];
```

**2. ç»„ä»¶æ˜ å°„è¡¨ï¼ˆsrc/utils/routes.tsxï¼‰**

```tsx
const componentMap: Record<string, React.ComponentType<any>> = {
  'Dashboard/Analysis': DashboardAnalysis,
  'Dashboard/Workplace': DashboardWorkplace,
  'System/Settings': SystemSettings
  // æ–°å¢é¡µé¢éœ€åœ¨æ­¤æ³¨å†Œ
};
```

**3. åŠ¨æ€è·¯ç”±æ³¨å…¥ï¼ˆsrc/app.tsxï¼‰**

```typescript
export function patchClientRoutes({ routes }) {
  // æ‰¾åˆ° auth wrapper å¹¶æ³¨å…¥åŠ¨æ€è·¯ç”±
  const layoutRoute = routes.find((r) => r.path === '/');
  const authRoute = layoutRoute?.children?.find((r) => r.path === '/');
  if (authRoute) {
    authRoute.children = [...extraRoutes, ...authRoute.children];
  }
}

export function render(oldRender) {
  if (hasToken) {
    getMenus().then((res) => {
      extraRoutes = menuToRoutes(res.data);
      oldRender();
    });
  } else {
    oldRender();
  }
}
```

### 7.3 èœå•æƒé™æ§åˆ¶

åç«¯æ ¹æ®ç”¨æˆ·è§’è‰²è¿”å›ä¸åŒèœå•ï¼Œå®ç°æƒé™æ§åˆ¶ï¼š

| è§’è‰²  | å¯è§èœå•                               |
| ----- | -------------------------------------- |
| Admin | æ‰€æœ‰èœå•ï¼ˆå·¥ä½œå°ã€ç³»ç»Ÿç®¡ç†ã€æ•°æ®ç®¡ç†ï¼‰ |
| User  | ä»…æ•°æ®åˆ†æ                             |

```mermaid
flowchart TD
    A[ç”¨æˆ·ç™»å½•] --> B{è§’è‰²åˆ¤æ–­}
    B -->|Admin| C[è¿”å›å®Œæ•´èœå•]
    B -->|User| D[è¿”å›å—é™èœå•]
    C --> E[æ¸²æŸ“å®Œæ•´ä¾§è¾¹æ ]
    D --> F[æ¸²æŸ“å—é™ä¾§è¾¹æ ]
```

### 7.4 æ–°å¢é¡µé¢æµç¨‹

1. **åˆ›å»ºé¡µé¢**ï¼š`src/pages/Module/Page/index.tsx`
2. **æ³¨å†Œç»„ä»¶**ï¼šåœ¨ `componentMap` ä¸­æ·»åŠ æ˜ å°„
3. **é…ç½®èœå•**ï¼šåç«¯æ¥å£è¿”å›å¯¹åº”èœå•é¡¹

---

## 8. ç»„ä»¶æ¶æ„

### 8.1 å¸ƒå±€ç»„ä»¶ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Header (å›ºå®š)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Logo   â”‚  â”‚     Module Menu        â”‚  â”‚   User Info     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          â”‚  â”‚                                            â”‚   â”‚
â”‚  â”‚  Sider   â”‚  â”‚              Content                       â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  (èœå•)  â”‚  â”‚   â”‚          PageContainer            â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”‚  â”‚        Breadcrumb          â”‚  â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”‚  â”‚        Page Header         â”‚  â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”‚  â”‚        Page Content        â”‚  â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ç»„ä»¶å±‚æ¬¡

```mermaid
graph TB
    subgraph "å¸ƒå±€å±‚"
        A[BasicLayout]
    end

    subgraph "å®¹å™¨å±‚"
        B[PageContainer]
    end

    subgraph "ä¸šåŠ¡ç»„ä»¶å±‚"
        C[SearchForm]
        D[DataTable]
        E[Charts]
    end

    subgraph "åŸºç¡€ç»„ä»¶å±‚"
        F[Ant Design Components]
    end

    A --> B
    B --> C
    B --> D
    B --> E
    C --> F
    D --> F
    E --> F
```

---

## 9. çŠ¶æ€ç®¡ç†

### 9.1 çŠ¶æ€åˆ†ç±»

```mermaid
graph TB
    subgraph "å…¨å±€çŠ¶æ€ (Zustand)"
        A[ç”¨æˆ·ä¿¡æ¯ userInfo]
        B[åº”ç”¨çŠ¶æ€ collapsed]
    end

    subgraph "æœåŠ¡ç«¯çŠ¶æ€ (useRequest)"
        C[åˆ—è¡¨æ•°æ®]
        D[è¯¦æƒ…æ•°æ®]
        E[ç»Ÿè®¡æ•°æ®]
    end

    subgraph "æœ¬åœ°çŠ¶æ€ (useState)"
        F[è¡¨å•çŠ¶æ€]
        G[UI çŠ¶æ€]
        H[ä¸´æ—¶æ•°æ®]
    end
```

### 9.2 çŠ¶æ€ç®¡ç†ç­–ç•¥

| çŠ¶æ€ç±»å‹   | ç®¡ç†æ–¹å¼          | æŒä¹…åŒ– | ç¤ºä¾‹             |
| ---------- | ----------------- | ------ | ---------------- |
| ç”¨æˆ·è®¤è¯   | Zustand + persist | âœ…     | userInfo, token  |
| åº”ç”¨é…ç½®   | Zustand           | âŒ     | collapsed, theme |
| æœåŠ¡ç«¯æ•°æ® | ahooks useRequest | âŒ     | åˆ—è¡¨ã€è¯¦æƒ…       |
| è¡¨å•æ•°æ®   | useState / Form   | âŒ     | è¾“å…¥å€¼           |
| UI çŠ¶æ€    | useState          | âŒ     | modal visible    |

---

## 10. å·¥ç¨‹åŒ–é…ç½®

### 10.1 æ„å»ºæµç¨‹

```mermaid
graph LR
    A[æºä»£ç ] --> B[TypeScript ç¼–è¯‘]
    B --> C[ESLint æ£€æŸ¥]
    C --> D[Prettier æ ¼å¼åŒ–]
    D --> E[UmiJS æ„å»º]
    E --> F[MFSU ä¼˜åŒ–]
    F --> G[äº§ç‰©è¾“å‡º]
```

### 10.2 ç¯å¢ƒé…ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç¯å¢ƒé…ç½®                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ç¯å¢ƒ     â”‚    é…ç½®æ–‡ä»¶      â”‚        API åœ°å€            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    å¼€å‘     â”‚ config.dev.ts   â”‚  http://localhost:8080     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    æµ‹è¯•     â”‚ config.test.ts  â”‚  https://test-api.xxx.com  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ç”Ÿäº§     â”‚ config.prod.ts  â”‚  https://api.xxx.com       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 ä»£ç è§„èŒƒ

```mermaid
graph TB
    subgraph "ä»£ç æäº¤æµç¨‹"
        A[git add] --> B[lint-staged]
        B --> C[ESLint Fix]
        C --> D[Prettier Format]
        D --> E[git commit]
        E --> F[Husky hooks]
    end
```

### 10.4 å‘½ä»¤ä¸€è§ˆ

```bash
# å¼€å‘
pnpm dev           # å¯åŠ¨å¼€å‘æœåŠ¡å™¨

# æ„å»º
pnpm build         # ç”Ÿäº§æ„å»º
pnpm build:test    # æµ‹è¯•ç¯å¢ƒæ„å»º
pnpm build:prod    # ç”Ÿäº§ç¯å¢ƒæ„å»º

# ä»£ç è´¨é‡
pnpm lint          # ä»£ç æ£€æŸ¥
pnpm format        # ä»£ç æ ¼å¼åŒ–
```

---

## ğŸ“Š æ¶æ„æ€»ç»“

### ä¼˜åŠ¿

- âœ… **åˆ†å±‚æ¸…æ™°**ï¼šè§†å›¾å±‚ã€ä¸šåŠ¡å±‚ã€åŸºç¡€å±‚èŒè´£æ˜ç¡®
- âœ… **ç±»å‹å®‰å…¨**ï¼šå…¨é¢ä½¿ç”¨ TypeScriptï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- âœ… **çŠ¶æ€å¯æ§**ï¼šZustand è½»é‡çº§æ–¹æ¡ˆï¼Œé¿å…è¿‡åº¦è®¾è®¡
- âœ… **è¯·æ±‚è§„èŒƒ**ï¼šuseRequest + Service å±‚ï¼Œç»Ÿä¸€ç®¡ç†
- âœ… **ç»„ä»¶å¤ç”¨**ï¼šå°è£…é€šç”¨ç»„ä»¶ï¼Œæå‡å¼€å‘æ•ˆç‡
- âœ… **å·¥ç¨‹è§„èŒƒ**ï¼šESLint + Prettier + Husky ä¿è¯ä»£ç è´¨é‡

### æ¶æ„åŸåˆ™

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæ¨¡å—åªåšä¸€ä»¶äº‹
2. **ä¾èµ–å€’ç½®**ï¼šé«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—å®ç°
3. **å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
4. **DRY åŸåˆ™**ï¼šä¸é‡å¤è‡ªå·±ï¼Œå¤ç”¨ä¼˜å…ˆ

---

> ğŸ“ **æ–‡æ¡£ç»´æŠ¤**ï¼šæœ¬æ–‡æ¡£éšé¡¹ç›®è¿­ä»£æ›´æ–°ï¼Œå¦‚æœ‰ç–‘é—®è¯·è”ç³»æŠ€æœ¯è´Ÿè´£äººã€‚
